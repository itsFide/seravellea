<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Seravellea</title>
	<link
	rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
	/>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">

	<link rel="stylesheet", href="css/order.css">

</head>
<body>
	<main>
		@@include("chunk/header.html")

		<section class="form">
            <div class="container">
                <div class="form__inner">
                    <div class="form-top">
                        <h2 class="form__title title">ULTIMO PASSO: Inserisci i tuoi dati per <br>bloccare il tuo flacone in REGALO</h2>
                        <div class="form-timer show-tablet">
                            <h3>L'offerta termina tra:</h3>
                            <div class="countdown">
                                <div class="ring" id="ring-hrs">
                                    <svg viewBox="0 0 120 120" aria-hidden="true">
                                        <circle class="track" cx="60" cy="60" r="54"></circle>
                                        <circle class="progress" cx="60" cy="60" r="54"></circle>
                                    </svg>
                                    <div class="value" id="val-hrs">08</div>
                                    <div class="label">Orologio</div>
                                </div>
                            
                                <div class="ring" id="ring-min">
                                    <svg viewBox="0 0 120 120" aria-hidden="true">
                                        <circle class="track" cx="60" cy="60" r="54"></circle>
                                        <circle class="progress" cx="60" cy="60" r="54"></circle>
                                    </svg>
                                    <div class="value" id="val-min">33</div>
                                    <div class="label">Minuti</div>
                                </div>
                            
                                <div class="ring" id="ring-sec">
                                    <svg viewBox="0 0 120 120" aria-hidden="true">
                                        <circle class="track" cx="60" cy="60" r="54"></circle>
                                        <circle class="progress" cx="60" cy="60" r="54"></circle>
                                    </svg>
                                    <div class="value" id="val-sec">57</div>
                                    <div class="label">Seconde</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-wrapper">
                        <div class="form__left">
                            <form action="" method="post">
                                <div class="form__item">
                                    <p>Nome e Cognome <span>*</span></p>
                                    <input type="text" name="name" placeholder="Alessandro Fabbri">
                                </div>
                                <div class="form__item">
                                    <p>Telefono (Meglio Cellulare) <span>*</span></p>
                                    <input type="text" name="name" placeholder="+39 ___ ___ ____">
                                </div>
                                <div class="form__item">
                                    <p>Città</p>
                                    <input type="text" name="name" placeholder="Aosta">
                                </div>
                                <div class="form__item">
                                    <p>CAP <span>*</span></p>
                                    <input type="text" name="name" placeholder="@alice.it">
                                </div>
                                <div class="form__item">
                                    <p>Indirizzo e n. civico <span>*</span></p>
                                    <input type="text" name="name" placeholder="VIA ROMA 123">
                                </div>
                                <div class="form__item">
                                    <p>Note per il corriere</p>
                                    <input type="text" name="name" placeholder="...">
                                </div>
                                <div class="form-list show-mobile">
                                    <h3>IL TUO ORDINE ESCLUSIVO</h3>
                                    <ul>
                                        <li><strong>Prodotto:</strong> Shine Essence (2 Flaconi)</li>
                                        <li><strong>Offerta:</strong> Speciale 2x1 <br> (1 Paghi + 1 in REGALO)</li>
                                        <li><strong>Spedizione:</strong> Gratuita e <br> Veloce (24/48h)</li>
                                        <li><strong>Pagamento:</strong> Alla Consegna</li>
                                        <li><strong>Garanzia:</strong> Soddisfatta o <br> Rimborsata 30 Giorni</li>
                                    </ul>
                                </div>
                                <button class="form__btn" type="submit">SÌ, CONFERMO E RICEVO IL MIO REGALO - €49.99</button>
                                <label class="form__label" for="agree">
                                    <p>Ho letto e accetto la Informativa Sulla Privacy e i Termini e Condizioni.</p>
                                    <input type="checkbox" name="agree" id="agree">
                                    <span class="custom-box"></span>
                                </label>
                                <div class="guarantee">
                                    <img src="img/guarantee-icon.svg" alt="guarantee">
                                    <p>Transazione Sicura e Garantita. Affrettati, ultimi pezzi!</p>
                                </div>
                            </form>
                        </div>
                        <div class="form__right">
                            <div class="form__text">
                                <div class="form-timer hide-tablet">
                                    <h3>L'offerta termina tra:</h3>
                                    <div class="countdown">
                                        <div class="ring" id="ring-hrs">
                                            <svg viewBox="0 0 120 120" aria-hidden="true">
                                                <circle class="track" cx="60" cy="60" r="54"></circle>
                                                <circle class="progress" cx="60" cy="60" r="54"></circle>
                                            </svg>
                                            <div class="value" id="val-hrs">08</div>
                                            <div class="label">Orologio</div>
                                        </div>
                                    
                                        <div class="ring" id="ring-min">
                                            <svg viewBox="0 0 120 120" aria-hidden="true">
                                                <circle class="track" cx="60" cy="60" r="54"></circle>
                                                <circle class="progress" cx="60" cy="60" r="54"></circle>
                                            </svg>
                                            <div class="value" id="val-min">33</div>
                                            <div class="label">Minuti</div>
                                        </div>
                                    
                                        <div class="ring" id="ring-sec">
                                            <svg viewBox="0 0 120 120" aria-hidden="true">
                                                <circle class="track" cx="60" cy="60" r="54"></circle>
                                                <circle class="progress" cx="60" cy="60" r="54"></circle>
                                            </svg>
                                            <div class="value" id="val-sec">57</div>
                                            <div class="label">Seconde</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-list hide-mobile">
                                    <h3>IL TUO ORDINE ESCLUSIVO</h3>
                                    <ul>
                                        <li><strong>Prodotto:</strong> Shine Essence (2 Flaconi)</li>
                                        <li><strong>Offerta:</strong> Speciale 2x1 (1 Paghi + 1 in REGALO)</li>
                                        <li><strong>Spedizione:</strong> Gratuita e Veloce (24/48h)</li>
                                        <li><strong>Pagamento:</strong> Alla Consegna</li>
                                        <li><strong>Garanzia:</strong> Soddisfatta o Rimborsata 30 Giorni</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="form__img">
                                <picture>
                                    <source media="(max-width: 650px)" srcset="img/order-page-img-mobile.png">
                                    <img src="img/order-page-img.png" alt="form">
                                </picture>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <script>
            (() => {
              const DEFAULT_SECONDS = (8 * 3600) + (33 * 60) + 57;
            
              const blocks = document.querySelectorAll('[data-countdown], .countdown');
              if (!blocks.length) return;
            
              function pad(n){ return String(n).padStart(2,'0'); }
              function clamp01(x){ return Math.max(0, Math.min(1, x)); }
            
              blocks.forEach((root, idx) => {
                const secondsTotal = Number(root.dataset.seconds) || DEFAULT_SECONDS;
                const storageKey = root.dataset.key || 'countdown_end_ts_v1';
            
                const rings = root.querySelectorAll('.progress');
                const values = root.querySelectorAll('.value');
                if (rings.length < 3 || values.length < 3) return;
            
                const [hrsRing, minRing, secRing] = rings;
                const [hrsVal,  minVal,  secVal ] = values;
            
                const R = secRing.r.baseVal.value;
                const C = 2 * Math.PI * R;
                rings.forEach(c => {
                  c.style.strokeDasharray = `${C} ${C}`;
                  c.style.strokeDashoffset = '0';
                });
            
                let saved = Number(localStorage.getItem(storageKey));
                const now = Date.now();
                let endTs = (saved && saved > now) ? saved : now + secondsTotal * 1000;
                if (!saved || saved <= now) localStorage.setItem(storageKey, String(endTs));
            
                function setProgress(circle, ratioRemaining){
                  circle.style.strokeDashoffset = String(C * (1 - clamp01(ratioRemaining)));
                }
            
                function tick(){
                  const now2 = Date.now();
                  let remain = Math.max(0, Math.floor((endTs - now2) / 1000));
            
                  const h = Math.floor(remain / 3600);
                  const m = Math.floor((remain % 3600) / 60);
                  const s = remain % 60;
            
                  hrsVal.textContent = pad(h);
                  minVal.textContent = pad(m);
                  secVal.textContent = pad(s);
            
                  setProgress(hrsRing, remain / (secondsTotal || 1));
                  setProgress(minRing, (remain % 3600) / 3600);
                  setProgress(secRing, (remain % 60) / 60);
            
                  if (remain <= 0){
                    clearInterval(t);
                    rings.forEach(c => setProgress(c, 0));
                    localStorage.removeItem(storageKey);
                  }
                }
            
                tick();
                const t = setInterval(tick, 100);
              });
            })();
        </script>
            
          
		@@include("chunk/footer.html")
	</main>
	<script defer src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

	<script defer src="js/main.js"></script>
</body>
</html>

